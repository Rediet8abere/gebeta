(this.webpackJsonpgebeta=this.webpackJsonpgebeta||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(17)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),s=n(4),a=n.n(s),i=(n(14),n(5)),l=n(6),h=n(2),c=n(8),u=n(7),p=n(1),d=(n(15),[0,1]),m={0:[1,2,3,4,5,6],1:[8,9,10,11,12,13]},v={0:7,1:14},_={1:{owner:0,next:{0:2,1:2},role:"hole",oop:13,distobank:{0:6,1:12}},2:{owner:0,next:{0:3,1:3},role:"hole",oop:12,distobank:{0:5,1:11}},3:{owner:0,next:{0:4,1:4},role:"hole",oop:11,distobank:{0:4,1:10}},4:{owner:0,next:{0:5,1:5},role:"hole",oop:10,distobank:{0:3,1:9}},5:{owner:0,next:{0:6,1:6},role:"hole",oop:9,distobank:{0:2,1:8}},6:{owner:0,next:{0:7,1:7},role:"hole",oop:8,distobank:{0:1,1:6}},7:{owner:0,next:{0:8,1:8},role:"bank",oop:null,distobank:null},8:{owner:1,next:{0:9,1:9},role:"hole",oop:6,distobank:{0:12,1:6}},9:{owner:1,next:{0:10,1:10},role:"hole",oop:5,distobank:{0:11,1:5}},10:{owner:1,next:{0:11,1:11},role:"hole",oop:4,distobank:{0:10,1:4}},11:{owner:1,next:{0:12,1:12},role:"hole",oop:3,distobank:{0:9,1:3}},12:{owner:1,next:{0:13,1:13},role:"hole",oop:2,distobank:{0:8,1:2}},13:{owner:1,next:{0:14,1:14},role:"hole",oop:1,distobank:{0:7,1:1}},14:{owner:1,next:{0:1,1:1},role:"bank",oop:null,distobank:null}},b=Object(p.a)(Array(15).keys()),k={padding:"15px",margin:"4px"},f={padding:"50px",margin:"4px"};function y(e){return r.a.createElement("div",{className:"turn-keeper"},r.a.createElement("h5",null,"Turn keeper: ",e.turn))}function g(e){return r.a.createElement("div",null,r.a.createElement("h5",null,e.index),r.a.createElement("button",{style:f,className:"bank"},e.marbles))}function x(e){return e.index<=6?r.a.createElement("div",null,r.a.createElement("button",{style:k,className:"hole",onClick:e.handleClick.bind(this,e.index)},e.marbles),r.a.createElement("h5",null,e.index)):6<e.index<14?r.a.createElement("div",null,r.a.createElement("h5",null,e.index),r.a.createElement("button",{style:k,className:"hole",onClick:e.handleClick.bind(this,e.index)},e.marbles)):void 0}var E=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).start=function(){0!==o.state.hand&&o.reset_board()},o.scoop=function(e){o.hand_keeper+=o.holes_copy[e],o.holes_copy[e]=0},o.drop=function(e,t){o.holes_copy[e]+=t,o.hand_keeper-=t},o.drop_all=function(e){o.holes_copy[e]+=o.hand_keeper,o.hand_keeper=0},o.state={holes:Array(15).fill(0),marbles_per_hole:4,hand:48,done:!1,isDropping:!1},o.turn=0,o.opp_turn=1,o.holes_copy=JSON.parse(JSON.stringify(o.state.holes)),o.hand_keeper=48,o.reset_board=o.reset_board.bind(Object(h.a)(o)),o.isTesting=!0,o}return Object(l.a)(n,[{key:"renderTurn",value:function(){var e="User";return e=1===this.turn?"AI":"User",r.a.createElement(y,{turn:e})}},{key:"renderHole",value:function(e){var t=this;return r.a.createElement(x,{index:e,marbles:this.state.holes[e],handleClick:function(){t.handleClick(e)}})}},{key:"renderBank",value:function(e){return r.a.createElement(g,{index:e,marbles:this.state.holes[e]})}},{key:"render",value:function(){return r.a.createElement("div",{className:"gebeta-board"},r.a.createElement("button",{className:"start-btn",onClick:this.start},"Start Game"),this.renderTurn(),r.a.createElement("div",{className:"ai-bank"},this.renderBank(14)),r.a.createElement("div",{className:"board-r1-r2"},r.a.createElement("div",{className:"board-row2"},this.renderHole(13),this.renderHole(12),this.renderHole(11),this.renderHole(10),this.renderHole(9),this.renderHole(8)),r.a.createElement("div",{className:"board-row1"},this.renderHole(1),this.renderHole(2),this.renderHole(3),this.renderHole(4),this.renderHole(5),this.renderHole(6))),r.a.createElement("div",{className:"player-bank"},this.renderBank(7)))}},{key:"is_ownbank",value:function(e){return this.holes_copy[e]%13===_[e].distobank[this.turn]}},{key:"possible_moves_choice",value:function(){for(var e=[],t=0;t<m[this.turn].length;t+=1)0!==this.holes_copy[m[this.turn][t]]&&e.push(m[this.turn][t]);return e}},{key:"possible_moves",value:function(){for(var e=[],t=this.possible_moves_choice(),n=0;n<t.length;n+=1)e.push([t[n]]);var o=[];return this.recurse_moves(e,o),o}},{key:"make_move_choice",value:function(e){this.scoop(e);for(var t=e,n=this.hand_keeper,o=0;o<n;o+=1){var r=_[t].next[this.turn];this.drop(r,1),t=r}1===this.state.holes[t]&&t!==(v[0]||v[1])&&_[t].owner===this.turn&&0!==_[t].oop&&(this.scoop(t),this.scoop(_[t].oop),this.drop_all(v[0])),this.isTesting||this.setState({holes:Object(p.a)(this.holes_copy)})}},{key:"recurse_moves",value:function(e,t){for(var n=0;n<e.length;n+=1){var o=e[n][e[n].length-1];if(this.is_ownbank(o)){var r=Object(p.a)(this.holes_copy);this.make_move_choice(o);var s=this.possible_moves_choice();if(0!==s.length){for(var a=[],i=0;i<s.length;i+=1)a.push(e[n].concat(s[i]));this.recurse_moves(a,t)}else t.push(e[n]);this.holes_copy=Object(p.a)(r)}else t.push(e[n])}}},{key:"minimax",value:function(e,t,n,o,r){if(0===t||this.is_over())return this.score();if(!0===r){var s=Number.NEGATIVE_INFINITY;this.play_move(e,!0),this.turn=0,this.opp_turn=1;for(var a=this.possible_moves(),i=Object(p.a)(this.holes_copy),l=0;l<a.length;l+=1){var h=this.minimax(a[l],t-1,n,o,!1);if(this.holes_copy=Object(p.a)(i),this.turn=0,this.opp_turn=1,s=Math.max(h,s),o<=(n=Math.max(n,h)))break}return s}if(!1===r){var c=Number.POSITIVE_INFINITY;this.play_move(e,!0),this.turn=1,this.opp_turn=0;for(var u=this.possible_moves(),d=Object(p.a)(this.holes_copy),m=0;m<u.length;m+=1){var v=this.minimax(u[m],t-1,n,o,!0);if(this.holes_copy=Object(p.a)(d),this.turn=1,this.opp_turn=0,c=Math.min(c,v),(o=Math.min(o,v))<=n)break}return c}}},{key:"get_move",value:function(){var e=this.possible_moves();return e[Math.floor(Math.random()*e.length)]}},{key:"make_move",value:function(){this.isTesting=!0;var e=this.get_move();console.log(">>>>>>>>>>>>>>>>>>>>>>>>ai move: ",e),this.isTesting=!1,this.play_move(e,!0)}},{key:"play_move",value:function(e,t){var n=this;if(t){for(var o=0;o<e.length;o+=1)this.make_move_choice(e[o]);0===this.turn?(this.turn=1,this.opp_turn=0,setTimeout((function(){n.make_move(),n.setState({holes:n.holes_copy})}),5e3)):(this.turn=0,this.opp_turn=1)}else this.make_move_choice(e)}},{key:"handleClick",value:function(e){var t=this.possible_moves(),n=!1;this.isTesting=!1;for(var o=0;o<t.length;o+=1)if(e===t[o][0])if(1===t[o].length)n=!0,this.play_move(t[o],n);else if(t[o].length>1){n=!1,this.play_move(e,n);break}}},{key:"is_over",value:function(){for(var e=0;e<d.length;e+=1){for(var t=!1,n=0;n<m[0].length;n+=1)0!==this.holes_copy[m[0][n]]&&(t=!0);if(!1===t)return!0}return!1}},{key:"score",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e&&(e=this.turn),1===e?(this.turn=1,this.opp_turn=0):0===e&&(this.turn=0,this.opp_turn=1),this.holes_copy[v[this.turn]]-this.holes_copy[v[this.opp_turn]]}},{key:"reset_board",value:function(){for(var e=0;e<b.length;e+=1)0!==this.holes_copy[e]&&this.scoop(e);for(var t=0;t<d.length;t+=1)for(var n=0;n<m[d[t]].length;n+=1)this.drop(m[d[t]][n],this.state.marbles_per_hole);this.setState({holes:Object(p.a)(this.holes_copy),hand:this.hand_keeper})}}]),n}(r.a.Component);n(16);var w=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("img",{src:"/gebeta/images/woodBackground.jpeg",alt:"mypic",width:"100%",height:"100%"}),r.a.createElement(E,null))};a.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.6d0d874b.chunk.js.map