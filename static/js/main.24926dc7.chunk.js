(this.webpackJsonpgebeta=this.webpackJsonpgebeta||[]).push([[0],[,,,,,,,,,function(e,t,o){e.exports=o(17)},,,,,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var n=o(0),s=o.n(n),r=o(3),i=o.n(r),l=(o(14),o(4)),a=o(5),h=o(1),c=o(8),u=o(7),p=o(6),d=(o(15),[0,1]),m={0:[1,2,3,4,5,6],1:[8,9,10,11,12,13]},v={0:7,1:14},_={1:{owner:0,next:{0:2,1:2},role:"hole",oop:13,distobank:{0:6,1:13}},2:{owner:0,next:{0:3,1:3},role:"hole",oop:12,distobank:{0:5,1:12}},3:{owner:0,next:{0:4,1:4},role:"hole",oop:11,distobank:{0:4,1:11}},4:{owner:0,next:{0:5,1:5},role:"hole",oop:10,distobank:{0:3,1:10}},5:{owner:0,next:{0:6,1:6},role:"hole",oop:9,distobank:{0:2,1:9}},6:{owner:0,next:{0:7,1:7},role:"hole",oop:8,distobank:{0:1,1:8}},7:{owner:0,next:{0:8,1:8},role:"bank",oop:null,distobank:null},8:{owner:1,next:{0:9,1:9},role:"hole",oop:6,distobank:{0:12,1:6}},9:{owner:1,next:{0:10,1:10},role:"hole",oop:5,distobank:{0:11,1:5}},10:{owner:1,next:{0:11,1:11},role:"hole",oop:4,distobank:{0:10,1:4}},11:{owner:1,next:{0:12,1:12},role:"hole",oop:3,distobank:{0:9,1:3}},12:{owner:1,next:{0:13,1:13},role:"hole",oop:2,distobank:{0:8,1:2}},13:{owner:1,next:{0:14,1:14},role:"hole",oop:1,distobank:{0:7,1:1}},14:{owner:1,next:{0:1,1:1},role:"bank",oop:null,distobank:null}},g=Object(p.a)(Array(15).keys()),f={padding:"15px",margin:"4px"},b={padding:"50px",margin:"4px"};function y(e){return s.a.createElement("div",{className:"turn-keeper"},s.a.createElement("h5",null,"Turn keeper: ",e.turn))}function k(e){return s.a.createElement("div",null,s.a.createElement("h5",null,e.index),s.a.createElement("button",{style:b,className:"bank"},e.marbles))}function N(e){return e.index<=6?s.a.createElement("div",null,s.a.createElement("button",{style:f,className:"hole",onClick:e.handleClick.bind(this,e.index)},e.marbles),s.a.createElement("h5",null,e.index)):6<e.index<14?s.a.createElement("div",null,s.a.createElement("h5",null,e.index),s.a.createElement("button",{style:f,className:"hole",onClick:e.handleClick.bind(this,e.index)},e.marbles)):void 0}var x=function(e){Object(c.a)(o,e);var t=Object(u.a)(o);function o(e){var n;return Object(l.a)(this,o),(n=t.call(this,e)).start=function(){0!==n.state.hand&&n.reset_board()},n.scoop=function(e){n.hand_keeper+=n.holes_copy[e],n.holes_copy[e]=0},n.drop=function(e,t){n.holes_copy[e]+=t,n.hand_keeper-=t},n.drop_all=function(e){n.holes_copy[e]+=n.hand_keeper,n.hand_keeper=0},n.state={holes:Array(15).fill(0),marbles_per_hole:4,hand:48,done:!1,isDropping:!1},n.turn=0,n.opp_turn=1,n.holes_copy=JSON.parse(JSON.stringify(n.state.holes)),n.hand_keeper=48,n.reset_board=n.reset_board.bind(Object(h.a)(n)),n.isTesting=!0,n}return Object(a.a)(o,[{key:"renderTurn",value:function(){var e="User";return e=1===this.turn?"AI":"User",s.a.createElement(y,{turn:e})}},{key:"renderHole",value:function(e){var t=this;return s.a.createElement(N,{index:e,marbles:this.state.holes[e],handleClick:function(){t.handleClick(e)}})}},{key:"renderBank",value:function(e){return s.a.createElement(k,{index:e,marbles:this.state.holes[e]})}},{key:"render",value:function(){return s.a.createElement("div",{className:"gebeta-board"},s.a.createElement("button",{className:"start-btn",onClick:this.start},"Start Game"),this.renderTurn(),s.a.createElement("div",{className:"ai-bank"},this.renderBank(14)),s.a.createElement("div",{className:"board-r1-r2"},s.a.createElement("div",{className:"board-row2"},this.renderHole(13),this.renderHole(12),this.renderHole(11),this.renderHole(10),this.renderHole(9),this.renderHole(8)),s.a.createElement("div",{className:"board-row1"},this.renderHole(1),this.renderHole(2),this.renderHole(3),this.renderHole(4),this.renderHole(5),this.renderHole(6))),s.a.createElement("div",{className:"player-bank"},this.renderBank(7)))}},{key:"is_ownbank",value:function(e){return this.holes_copy[e]%13===_[e].distobank[this.turn]}},{key:"possible_moves_choice",value:function(){for(var e=[],t=0;t<m[this.turn].length;t+=1)0!==this.holes_copy[m[this.turn][t]]&&e.push(m[this.turn][t]);return e}},{key:"possible_moves",value:function(){for(var e=[],t=this.possible_moves_choice(),o=0;o<t.length;o+=1)e.push([t[o]]);var n=[];return this.recurse_moves(e,n),n}},{key:"make_move_choice",value:function(e){this.scoop(e);for(var t=e,o=this.hand_keeper,n=0;n<o;n+=1){var s=_[t].next[this.turn];(0===this.turn&&s===v[1]||1===this.turn&&s===v[0])&&(s=_[s].next[this.turn]),this.drop(s,1),t=s}_[t].owner===this.turn&&1===this.holes_copy[t]&&t!==v[0]&&t!==v[1]&&0!==_[t].oop&&(this.scoop(t),this.scoop(_[t].oop),this.drop_all(v[this.turn])),this.isTesting||this.setState({holes:JSON.parse(JSON.stringify(this.holes_copy))})}},{key:"recurse_moves",value:function(e,t){for(var o=0;o<e.length;o+=1){var n=e[o][e[o].length-1];if(this.is_ownbank(n)){var s=JSON.parse(JSON.stringify(this.holes_copy));this.make_move_choice(n);var r=this.possible_moves_choice();if(0!==r.length){for(var i=[],l=0;l<r.length;l+=1)i.push(e[o].concat(r[l]));this.recurse_moves(i,t)}else t.push(e[o]);this.holes_copy=JSON.parse(JSON.stringify(s))}else t.push(e[o])}}},{key:"minimax",value:function(e,t,o){if(0===t||this.is_over())return this.score();if(!0===o){var n=Number.NEGATIVE_INFINITY;this.play_move(e,!0);for(var s=this.possible_moves(),r=JSON.parse(JSON.stringify(this.holes_copy)),i=0;i<s.length;i+=1){var l=this.minimax(s[i],t-1,!1);this.holes_copy=JSON.parse(JSON.stringify(r)),this.turn=0,this.opp_turn=1,n=Math.max(l,n)}return n}if(!1===o){var a=Number.POSITIVE_INFINITY;this.play_move(e,!0);for(var h=this.possible_moves(),c=JSON.parse(JSON.stringify(this.holes_copy)),u=0;u<h.length;u+=1){var p=this.minimax(h[u],t-1,!0);this.holes_copy=JSON.parse(JSON.stringify(c)),this.turn=1,this.opp_turn=0,a=Math.min(a,p)}return a}}},{key:"get_move",value:function(){this.isTesting=!0;var e=Number.NEGATIVE_INFINITY,t=[],o=this.possible_moves();console.log("possible ai move: =========================}",o);for(var n=JSON.parse(JSON.stringify(this.holes_copy)),s=0;s<o.length;s+=1){var r=this.minimax(o[s],2,!0);this.holes_copy=JSON.parse(JSON.stringify(n)),r>=e&&(t=o[s],e=r,console.log("ai_score-----------\x3e: ",r,"best_score-----------\x3e: ",e))}return this.turn=1,this.opp_turn=0,this.isTesting=!1,t}},{key:"make_move",value:function(){if(1===this.turn){console.log("^^^^^^^^^^^^^^^^^^^^^^^^^turn is ai: ",1===this.turn);var e=this.get_move();console.log("ai's best move --------------------------------\x3e",e),console.log("-------holes copy-------"),console.log(this.holes_copy),console.log("+++++++++++holes state+++++++"),console.log(this.state.holes),console.log(">>>>>>>>>>>>>>>>>>>>>>>>ai move: ",e,this.turn),this.play_move(e,!0)}}},{key:"play_move",value:function(e,t){var o=this;if(this.is_over()&&alert("GAME IS OVER!"),t){for(var n=0;n<e.length;n+=1)this.make_move_choice(e[n]);1!==this.turn||this.isTesting||(console.log("\n"),console.log("we are done: ",t),console.log("************************************************************"),console.log("-------holes copy-------"),console.log(this.holes_copy),console.log("+++++++++++holes state+++++++"),console.log(this.state.holes),console.log("************************************************************"),console.log("\n")),0===this.turn?(this.turn=1,this.opp_turn=0,setTimeout((function(){o.make_move(),o.setState({holes:JSON.parse(JSON.stringify(o.holes_copy))})}),2e3)):1===this.turn&&(this.turn=0,this.opp_turn=1)}else this.make_move_choice(e)}},{key:"handleClick",value:function(e){console.log("*******************************************************>handling: ",e);var t=this.possible_moves(),o=!1;this.isTesting=!1;for(var n=0;n<t.length;n+=1)if(e===t[n][0])if(1===t[n].length)o=!0,this.play_move(t[n],o);else if(t[n].length>1){o=!1,this.play_move(e,o);break}}},{key:"is_over",value:function(){for(var e=0;e<d.length;e+=1){for(var t=!1,o=0;o<m[d[e]].length;o+=1)0!==this.holes_copy[m[d[e]][o]]&&(t=!0);if(!1===t)return!0}return!1}},{key:"score",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e&&(e=this.turn),1===e?(this.turn=1,this.opp_turn=0):0===e&&(this.turn=0,this.opp_turn=1),this.holes_copy[v[this.turn]]-this.holes_copy[v[this.opp_turn]]}},{key:"get_winner",value:function(){var e=this.score(0),t=this.score(1);return e>t?"YOU WIN":e<t?"YOU LOSE":e===t?"IT'S A TIE":void 0}},{key:"reset_board",value:function(){for(var e=0;e<g.length;e+=1)0!==this.holes_copy[e]&&this.scoop(e);for(var t=0;t<d.length;t+=1)for(var o=0;o<m[d[t]].length;o+=1)this.drop(m[d[t]][o],this.state.marbles_per_hole);this.setState({holes:JSON.parse(JSON.stringify(this.holes_copy)),hand:this.hand_keeper})}}]),o}(s.a.Component);o(16);var E=function(){return s.a.createElement("div",{className:"App"},s.a.createElement("img",{src:"/gebeta/images/woodBackground.jpeg",alt:"mypic",width:"100%",height:"100%"}),s.a.createElement(x,null))};i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(E,null)),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.24926dc7.chunk.js.map