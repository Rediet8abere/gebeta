(this.webpackJsonpgebeta=this.webpackJsonpgebeta||[]).push([[0],[,,,,,,,,,function(e,t,o){e.exports=o(17)},,,,,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var n=o(0),s=o.n(n),r=o(4),i=o.n(r),a=(o(14),o(5)),l=o(6),h=o(2),c=o(8),u=o(7),p=o(1),m=(o(15),[0,1]),d={0:[1,2,3,4,5,6],1:[8,9,10,11,12,13]},v={0:7,1:14},_={1:{owner:0,next:{0:2,1:2},role:"hole",oop:13,distobank:{0:6,1:12}},2:{owner:0,next:{0:3,1:3},role:"hole",oop:12,distobank:{0:5,1:11}},3:{owner:0,next:{0:4,1:4},role:"hole",oop:11,distobank:{0:4,1:10}},4:{owner:0,next:{0:5,1:5},role:"hole",oop:10,distobank:{0:3,1:9}},5:{owner:0,next:{0:6,1:6},role:"hole",oop:9,distobank:{0:2,1:8}},6:{owner:0,next:{0:7,1:7},role:"hole",oop:8,distobank:{0:1,1:6}},7:{owner:0,next:{0:8,1:8},role:"bank",oop:null,distobank:null},8:{owner:1,next:{0:9,1:9},role:"hole",oop:6,distobank:{0:12,1:6}},9:{owner:1,next:{0:10,1:10},role:"hole",oop:5,distobank:{0:11,1:5}},10:{owner:1,next:{0:11,1:11},role:"hole",oop:4,distobank:{0:10,1:4}},11:{owner:1,next:{0:12,1:12},role:"hole",oop:3,distobank:{0:9,1:3}},12:{owner:1,next:{0:13,1:13},role:"hole",oop:2,distobank:{0:8,1:2}},13:{owner:1,next:{0:14,1:14},role:"hole",oop:1,distobank:{0:7,1:1}},14:{owner:1,next:{0:1,1:1},role:"bank",oop:null,distobank:null}},b=Object(p.a)(Array(15).keys()),k={padding:"15px",margin:"4px"},f={padding:"50px",margin:"4px"};function g(e){return s.a.createElement("div",{className:"turn-keeper"},s.a.createElement("h5",null,"Turn keeper: ",e.turn))}function y(e){return s.a.createElement("div",null,s.a.createElement("h5",null,e.index),s.a.createElement("button",{style:f,className:"bank"},e.marbles))}function x(e){return e.index<=6?s.a.createElement("div",null,s.a.createElement("button",{style:k,className:"hole",onClick:e.handleClick.bind(this,e.index)},e.marbles),s.a.createElement("h5",null,e.index)):6<e.index<14?s.a.createElement("div",null,s.a.createElement("h5",null,e.index),s.a.createElement("button",{style:k,className:"hole",onClick:e.handleClick.bind(this,e.index)},e.marbles)):void 0}var E=function(e){Object(c.a)(o,e);var t=Object(u.a)(o);function o(e){var n;return Object(a.a)(this,o),(n=t.call(this,e)).start=function(){0!==n.state.hand&&n.reset_board()},n.scoop=function(e){n.hand_keeper+=n.holes_copy[e],n.holes_copy[e]=0},n.drop=function(e,t){n.holes_copy[e]+=t,n.hand_keeper-=t},n.drop_all=function(e){n.holes_copy[e]+=n.hand_keeper,n.hand_keeper=0},n.state={holes:Array(15).fill(0),marbles_per_hole:4,hand:48,done:!1,isDropping:!1},n.turn=0,n.opp_turn=1,n.holes_copy=JSON.parse(JSON.stringify(n.state.holes)),n.hand_keeper=48,n.reset_board=n.reset_board.bind(Object(h.a)(n)),n.isTesting=!0,n}return Object(l.a)(o,[{key:"renderTurn",value:function(){var e="User";return e=1===this.turn?"AI":"User",s.a.createElement(g,{turn:e})}},{key:"renderHole",value:function(e){var t=this;return s.a.createElement(x,{index:e,marbles:this.state.holes[e],handleClick:function(){t.handleClick(e)}})}},{key:"renderBank",value:function(e){return s.a.createElement(y,{index:e,marbles:this.state.holes[e]})}},{key:"render",value:function(){return s.a.createElement("div",{className:"gebeta-board"},s.a.createElement("button",{className:"start-btn",onClick:this.start},"Start Game"),this.renderTurn(),s.a.createElement("div",{className:"ai-bank"},this.renderBank(14)),s.a.createElement("div",{className:"board-r1-r2"},s.a.createElement("div",{className:"board-row2"},this.renderHole(13),this.renderHole(12),this.renderHole(11),this.renderHole(10),this.renderHole(9),this.renderHole(8)),s.a.createElement("div",{className:"board-row1"},this.renderHole(1),this.renderHole(2),this.renderHole(3),this.renderHole(4),this.renderHole(5),this.renderHole(6))),s.a.createElement("div",{className:"player-bank"},this.renderBank(7)))}},{key:"is_ownbank",value:function(e){return this.holes_copy[e]%13===_[e].distobank[this.turn]}},{key:"possible_moves_choice",value:function(){for(var e=[],t=0;t<d[this.turn].length;t+=1)0!==this.holes_copy[d[this.turn][t]]&&e.push(d[this.turn][t]);return e}},{key:"possible_moves",value:function(){for(var e=[],t=this.possible_moves_choice(),o=0;o<t.length;o+=1)e.push([t[o]]);var n=[];return this.recurse_moves(e,n),n}},{key:"make_move_choice",value:function(e){this.scoop(e);for(var t=e,o=this.hand_keeper,n=0;n<o;n+=1){var s=_[t].next[this.turn];(0===this.turn&&s===v[1]||1===this.turn&&s===v[0])&&(s=_[s].next[this.turn]),this.drop(s,1),t=s}_[t].owner===this.turn&&1===this.holes_copy[t]&&t!==v[0]&&t!==v[1]&&0!==_[t].oop&&(this.scoop(t),this.scoop(_[t].oop),this.drop_all(v[this.turn])),this.isTesting||this.setState({holes:Object(p.a)(this.holes_copy)})}},{key:"recurse_moves",value:function(e,t){for(var o=0;o<e.length;o+=1){var n=e[o][e[o].length-1];if(this.is_ownbank(n)){var s=Object(p.a)(this.holes_copy);this.make_move_choice(n);var r=this.possible_moves_choice();if(0!==r.length){for(var i=[],a=0;a<r.length;a+=1)i.push(e[o].concat(r[a]));this.recurse_moves(i,t)}else t.push(e[o]);this.holes_copy=Object(p.a)(s)}else t.push(e[o])}}},{key:"minimax",value:function(e,t,o,n,s){if(0===t||this.is_over())return this.score();if(!0===s){var r=Number.NEGATIVE_INFINITY;this.play_move(e,!0),this.turn=0,this.opp_turn=1;for(var i=this.possible_moves(),a=Object(p.a)(this.holes_copy),l=0;l<i.length;l+=1){var h=this.minimax(i[l],t-1,o,n,!1);if(this.holes_copy=Object(p.a)(a),this.turn=0,this.opp_turn=1,r=Math.max(h,r),n<=(o=Math.max(o,h)))break}return r}if(!1===s){var c=Number.POSITIVE_INFINITY;this.play_move(e,!0),this.turn=1,this.opp_turn=0;for(var u=this.possible_moves(),m=Object(p.a)(this.holes_copy),d=0;d<u.length;d+=1){var v=this.minimax(u[d],t-1,o,n,!0);if(this.holes_copy=Object(p.a)(m),this.turn=1,this.opp_turn=0,c=Math.min(c,v),(n=Math.min(n,v))<=o)break}return c}}},{key:"get_move",value:function(){var e=this.possible_moves();return e[Math.floor(Math.random()*e.length)]}},{key:"make_move",value:function(){console.log("^^^^^^^^^^^^^^^^^^^^^^^^^turn is ai: ",1===this.turn),this.isTesting=!0,console.log("-------holes copy-------"),console.log(this.holes_copy),console.log("+++++++++++holes state+++++++"),console.log(this.state.holes);var e=this.get_move();console.log(">>>>>>>>>>>>>>>>>>>>>>>>ai move: ",e),this.isTesting=!1,this.play_move(e,!0)}},{key:"play_move",value:function(e,t){var o=this;if(console.log("over: ",this.is_over()),this.is_over())console.log("game is over: ",this.is_over());else if(t){for(var n=0;n<e.length;n+=1)this.make_move_choice(e[n]);0===this.turn?(this.turn=1,this.opp_turn=0,setTimeout((function(){o.make_move(),o.setState({holes:Object(p.a)(o.holes_copy)})}),2e3)):(this.turn=0,this.opp_turn=1)}else this.make_move_choice(e)}},{key:"handleClick",value:function(e){console.log("*******************************************************>handling: ",e);var t=this.possible_moves(),o=!1;this.isTesting=!1;for(var n=0;n<t.length;n+=1)if(e===t[n][0])if(1===t[n].length)o=!0,this.play_move(t[n],o);else if(t[n].length>1){o=!1,this.play_move(e,o);break}}},{key:"is_over",value:function(){console.log("\n"),console.log("-----------In is_over ------------------"),console.log(this.holes_copy);for(var e=0,t=0;t<m.length;t+=1){for(var o=!1,n=0;n<d[this.turn].length;n+=1)0!==this.holes_copy[d[this.turn][n]]&&(o=!0);if(console.log("has_marbles: ",o),console.log(!0===o?"we still have marbles":"we're out of marbles"),!1===o)return!0;e+=1,console.log("has_marbles: ",o)}return console.log("count: ",e),console.log("\n"),!1}},{key:"score",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e&&(e=this.turn),1===e?(this.turn=1,this.opp_turn=0):0===e&&(this.turn=0,this.opp_turn=1),this.holes_copy[v[this.turn]]-this.holes_copy[v[this.opp_turn]]}},{key:"reset_board",value:function(){for(var e=0;e<b.length;e+=1)0!==this.holes_copy[e]&&this.scoop(e);for(var t=0;t<m.length;t+=1)for(var o=0;o<d[m[t]].length;o+=1)this.drop(d[m[t]][o],this.state.marbles_per_hole);this.setState({holes:Object(p.a)(this.holes_copy),hand:this.hand_keeper})}}]),o}(s.a.Component);o(16);var w=function(){return s.a.createElement("div",{className:"App"},s.a.createElement("img",{src:"/gebeta/images/woodBackground.jpeg",alt:"mypic",width:"100%",height:"100%"}),s.a.createElement(E,null))};i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(w,null)),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.1bf9050d.chunk.js.map